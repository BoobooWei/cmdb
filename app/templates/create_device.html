{% import "macros.html" as macros %}
{% extends "common/base.html" %}

{% block static %}

    {{ super() }}
    <!-- Plugins css-->
    <link href="{{ url_for("static", filename="assets/tagsinput/jquery.tagsinput.css") }}" rel="stylesheet"/>
    <link href="{{ url_for("static", filename="assets/toggles/toggles.css") }}" rel="stylesheet"/>
    <link href="{{ url_for("static", filename="assets/timepicker/bootstrap-timepicker.min.css") }}" rel="stylesheet"/>
    <link href="{{ url_for('static', filename="assets/timepicker/bootstrap-datepicker.min.css") }}" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="{{ url_for("static", filename="assets/colorpicker/colorpicker.css") }}"/>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename="assets/jquery-multi-select/multi-select.css") }}"/>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/select2/select2.css') }}"/>

{% endblock static %}

{% block page_content %}
    <!-- Page Content Start -->
    <!-- ================== -->

    <div class="wraper container-fluid">
        <div class="page-title">
            <h3 class="title">添加设备</h3>
        </div>


        <div class="row">
            <div class="col-sm-12">
                <div class="panel panel-default">
                    <div class="panel-heading"><h3 class="panel-title">资产信息</h3></div>
                    <div class="panel-body">
                        <form class="form-horizontal" role="form" action="{{ url_for('main.create_device') }}"
                              method="POST">
                            {{ form.csrf_token }}
                            <div class="form-group">
                                <label class="col-md-2 control-label">设备类型</label>

                                <div class="col-md-6">
                                    {{ form.Devicetype(class='select2', placeholder='设备类型') }}
                                    {{ macros.print_form_messages(form.errors.Devicetype) }}
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-2 control-label">AN号</label>

                                <div class="col-md-6">
                                    {{ form.an(class='form-control', placeholder='AN号') }}
                                    {{ macros.print_form_messages(form.errors.an) }}
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-2 control-label">SN号</label>

                                <div class="col-md-6">
                                    {{ form.sn(class='form-control', placeholder='SN号') }}
                                    {{ macros.print_form_messages(form.errors.sn) }}
                                </div>
                            </div>



                            <div class="form-group">
                                <label class="col-md-2 control-label">使用状态</label>

                                <div class="col-md-6">
                                    {{ form.onstatus(class='select2', placeholder='使用状态') }}
                                    {{ macros.print_form_messages(form.errors.onstatus) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">流程状态</label>

                                <div class="col-md-6">
                                    {{ form.flowstatus(class='select2', placeholder='流程状态') }}
                                    {{ macros.print_form_messages(form.errors.flowstatus) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">生产时间</label>

                                <div class="col-md-6">
                                    {{ form.dateofmanufacture(class='form-control', placeholder='生产时间') }}
                                    {{ macros.print_form_messages(form.errors.dateofmanufacture) }}
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-2 control-label">生产商</label>

                                <div class="col-md-6">
                                    {{ form.manufacturer(class='form-control', placeholder='生产商') }}
                                    {{ macros.print_form_messages(form.errors.manufacturer) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">品牌</label>

                                <div class="col-md-6">
                                    {{ form.brand(class='form-control', placeholder='品牌') }}
                                    {{ macros.print_form_messages(form.errors.brand) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">型号</label>

                                <div class="col-md-6">
                                    {{ form.model(class='form-control', placeholder='型号') }}
                                    {{ macros.print_form_messages(form.errors.model) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">位置</label>

                                <div class="col-md-6">
                                    {{ form.site(class='form-control', placeholder='位置') }}
                                    {{ macros.print_form_messages(form.errors.site) }}
                                </div>
                            </div>


                            <div class="form-group">
                                <label class="col-md-2 control-label">使用部门</label>

                                <div class="col-md-6">
                                    {{ form.usedept(type="text", class='form-control', placeholder='使用部门', id="datepicker1") }}
                                    {{ macros.print_form_messages(form.errors.usedept) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">部门使用人</label>

                                <div class="col-md-6">
                                    {{ form.usestaff(type="text", class='form-control', placeholder='部门使用人', id="datepicker2") }}
                                    {{ macros.print_form_messages(form.errors.usestaff) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">使用开始时间</label>

                                <div class="col-md-6">
                                    {{ form.usestarttime(type="text", class='form-control', placeholder='使用开始时间', id="datepicker3") }}
                                    {{ macros.print_form_messages(form.errors.usestarttime) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">使用结束时间</label>

                                <div class="col-md-6">
                                    {{ form.useendtime(class='form-control', placeholder='使用结束时间') }}
                                    {{ macros.print_form_messages(form.errors.useendtime) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">设备价格</label>

                                <div class="col-md-6">
                                    {{ form.equipprice(class='form-control', placeholder='设备价格') }}
                                    {{ macros.print_form_messages(form.errors.equipprice) }}
                                </div>
                            </div>
                            

                        </form>
                    </div>
                    <!-- panel-body -->
                </div>
                <!-- panel -->
            </div>
            <!-- col -->
        </div>
        <!-- End row -->




        <div class="row">
            <div class="col-sm-12">
                <div class="panel panel-default">
                    <div class="panel-heading"><h3 class="panel-title">设备信息</h3></div>
                    <div class="panel-body">
                        <form class="form-horizontal" role="form" action="{{ url_for('main.create_device') }}"
                              method="POST">
                            {{ form.csrf_token }}
                            <div class="form-group">
                                <label class="col-md-2 control-label">主机名</label>

                                <div class="col-md-6">
                                    {{ form.hostname(class='form-control', placeholder='主机名') }}
                                    {{ macros.print_form_messages(form.errors.hostname) }}
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-2 control-label">内网IP</label>

                                <div class="col-md-6">
                                    {{ form.private_ip(class='form-control', placeholder='内网IP') }}
                                    {{ macros.print_form_messages(form.errors.private_ip) }}
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-2 control-label">内网MAC</label>

                                <div class="col-md-6">
                                    {{ form.private_mac(class='form-control', placeholder='内网MAC') }}
                                    {{ macros.print_form_messages(form.errors.private_mac) }}
                                </div>
                            </div>



                            <div class="form-group">
                                <label class="col-md-2 control-label">公网IP</label>

                                <div class="col-md-6">
                                    {{ form.public_ip(class='form-control', placeholder='公网IP') }}
                                    {{ macros.print_form_messages(form.errors.public_ip) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">公网MAC</label>

                                <div class="col-md-6">
                                    {{ form.public_mac(class='form-control', placeholder='公网MAC') }}
                                    {{ macros.print_form_messages(form.errors.public_mac) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">其他IP</label>

                                <div class="col-md-6">
                                    {{ form.other_ip(class='form-control', placeholder='其他IP') }}
                                    {{ macros.print_form_messages(form.errors.other_ip) }}
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-2 control-label">其他MAC</label>

                                <div class="col-md-6">
                                    {{ form.other_mac(class='form-control', placeholder='其他MAC') }}
                                    {{ macros.print_form_messages(form.errors.other_mac) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">机房</label>

                                <div class="col-md-6">
                                    {{ form.idc(class='select2', placeholder='机房') }}
                                    {{ macros.print_form_messages(form.errors.idc) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">机柜</label>

                                <div class="col-md-6">
                                    {{ form.rack(class='select2', placeholder='机柜') }}
                                    {{ macros.print_form_messages(form.errors.rack) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">虚拟化</label>

                                <div class="col-md-1">
                                    {{ form.is_virtualization(class='form-control', placeholder='虚拟化') }}
                                    {{ macros.print_form_messages(form.errors.is_virtualization) }}
                                </div>
                            </div>


                            <div class="form-group">
                                <label class="col-md-2 control-label">CPU型号</label>

                                <div class="col-md-6">
                                    {{ form.cpumodel(type="text", class='form-control', placeholder='CPU型号', id="datepicker1") }}
                                    {{ macros.print_form_messages(form.errors.cpumodel) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">CPU内核(个)</label>

                                <div class="col-md-6">
                                    {{ form.cpucount(type="text", class='form-control', placeholder='CPU内核(个)', id="datepicker2") }}
                                    {{ macros.print_form_messages(form.errors.cpucount) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">内存大小(GB)</label>

                                <div class="col-md-6">
                                    {{ form.memsize(type="text", class='form-control', placeholder='内存大小(GB)', id="datepicker3") }}
                                    {{ macros.print_form_messages(form.errors.memsize) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">单根大小(GB)</label>

                                <div class="col-md-6">
                                    {{ form.singlemem(class='form-control', placeholder='单根大小(GB)') }}
                                    {{ macros.print_form_messages(form.errors.singlemem) }}
                                </div>
                            </div>


                            <div class="form-group">
                                <label class="col-md-2 control-label">Raid级别</label>

                                <div class="col-md-6">
                                    {{ form.raidmodel(type="text", class='form-control', placeholder='Raid级别', id="datepicker3") }}
                                    {{ macros.print_form_messages(form.errors.raidmodel) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label">备注</label>

                                <div class="col-md-6">
                                    {{ form.remarks(class='form-control autogrow', placeholder='', style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 104px;") }}
                                    {{ macros.print_form_messages(form.errors.remarks) }}
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-2 control-label"></label>

                                <div class="col-md-6">
                                    {{ form.submit(class='btn btn-info') }}
                                </div>
                            </div>

                        </form>
                    </div>
                    <!-- panel-body -->
                </div>
                <!-- panel -->
            </div>
            <!-- col -->
        </div>
        <!-- End row -->





    </div>
    <!-- Page Content Ends -->
    <!-- ================== -->
{% endblock page_content %}

{% block scripts %}

    {{ super() }}
    <script src="{{ url_for("static", filename="assets/tagsinput/jquery.tagsinput.min.js") }}"></script>
    <script src="{{ url_for("static", filename="assets/toggles/toggles.min.js") }}"></script>
    <script src="{{ url_for("static", filename="assets/timepicker/bootstrap-timepicker.min.js") }}"></script>
    <script src="{{ url_for("static", filename="assets/timepicker/bootstrap-datepicker.js") }}"></script>
    <script type="text/javascript" src="{{ url_for("static", filename="assets/colorpicker/bootstrap-colorpicker.js") }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename="assets/jquery-multi-select/jquery.multi-select.js") }}"></script>
    <script type="text/javascript" src="{{ url_for("static", filename="assets/jquery-multi-select/jquery.quicksearch.js") }}"></script>
    <script src="{{ url_for("static", filename="assets/bootstrap-inputmask/bootstrap-inputmask.min.js") }}" type="text/javascript"></script>
    <script type="text/javascript" src="{{ url_for("static", filename="assets/spinner/spinner.min.js") }}"></script>
    <script src="{{ url_for("static", filename="assets/select2/select2.min.js") }}" type="text/javascript"></script>


    <script src="{{ url_for("static", filename="js/jquery.app.js") }}"></script>


    <script>
        jQuery(document).ready(function () {

            // Tags Input
            jQuery('#tags').tagsInput({width: 'auto'});

            // Form Toggles
            jQuery('.toggle').toggles({on: true});

            // Date Picker
            jQuery('#datepicker').datepicker('option', 'dateFormat', 'yy-mm-dd');



            //colorpicker start

            $('.colorpicker-default').colorpicker({
                format: 'hex'
            });
            $('.colorpicker-rgba').colorpicker();


            //multiselect start

            $('#my_multi_select1').multiSelect();
            $('#my_multi_select2').multiSelect({
                selectableOptgroup: true
            });

            $('#my_multi_select3').multiSelect({
                selectableHeader: "<input type='text' class='form-control search-input' autocomplete='off' placeholder='search...'>",
                selectionHeader: "<input type='text' class='form-control search-input' autocomplete='off' placeholder='search...'>",
                afterInit: function (ms) {
                    var that = this,
                            $selectableSearch = that.$selectableUl.prev(),
                            $selectionSearch = that.$selectionUl.prev(),
                            selectableSearchString = '#' + that.$container.attr('id') + ' .ms-elem-selectable:not(.ms-selected)',
                            selectionSearchString = '#' + that.$container.attr('id') + ' .ms-elem-selection.ms-selected';

                    that.qs1 = $selectableSearch.quicksearch(selectableSearchString)
                            .on('keydown', function (e) {
                                if (e.which === 40) {
                                    that.$selectableUl.focus();
                                    return false;
                                }
                            });

                    that.qs2 = $selectionSearch.quicksearch(selectionSearchString)
                            .on('keydown', function (e) {
                                if (e.which == 40) {
                                    that.$selectionUl.focus();
                                    return false;
                                }
                            });
                },
                afterSelect: function () {
                    this.qs1.cache();
                    this.qs2.cache();
                },
                afterDeselect: function () {
                    this.qs1.cache();
                    this.qs2.cache();
                }
            });

            //spinner start
            $('#spinner1').spinner();
            $('#spinner2').spinner({disabled: true});
            $('#spinner3').spinner({value: 0, min: 0, max: 10});
            $('#spinner4').spinner({value: 0, step: 5, min: 0, max: 200});
            //spinner end

            // Select2
            jQuery(".select2").select2({
                width: '100%'
            });
        });
    </script>

{% endblock scripts %}